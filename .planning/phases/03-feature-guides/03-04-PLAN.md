---
phase: 03-feature-guides
plan: 04
type: execute
wave: 2
depends_on: []
files_modified:
  - qase-jest/docs/MULTI_PROJECT.md
  - qase-playwright/docs/MULTI_PROJECT.md
  - qase-cypress/docs/MULTI_PROJECT.md
  - qase-mocha/docs/MULTI_PROJECT.md
  - qase-vitest/docs/MULTI_PROJECT.md
  - qase-cucumberjs/docs/MULTI_PROJECT.md
  - qase-wdio/docs/MULTI_PROJECT.md
  - qase-newman/docs/MULTI_PROJECT.md
  - qase-testcafe/docs/MULTI_PROJECT.md
autonomous: true

must_haves:
  truths:
    - "User can configure multiple Qase projects in monorepo using MULTI_PROJECT.md patterns"
    - "User can use qase.projects() to map tests to multiple projects"
    - "User can understand default project behavior for unmapped tests"
    - "Each guide exists in all 9 framework docs directories with consistent structure"
  artifacts:
    - path: "qase-newman/docs/MULTI_PROJECT.md"
      provides: "Newman multi-project guide (new)"
      contains: "testops_multi"
    - path: "qase-testcafe/docs/MULTI_PROJECT.md"
      provides: "TestCafe multi-project guide (new)"
      contains: "testops_multi"
    - path: "qase-jest/docs/MULTI_PROJECT.md"
      provides: "Jest multi-project guide (enhanced)"
      contains: "Troubleshooting"
    - path: "qase-playwright/docs/MULTI_PROJECT.md"
      provides: "Playwright multi-project guide (enhanced)"
      contains: "Troubleshooting"
  key_links:
    - from: "qase-*/docs/MULTI_PROJECT.md"
      to: "qase-javascript-commons/README.md"
      via: "Configuration Reference link"
      pattern: "qase-javascript-commons/README\\.md"
    - from: "qase-*/docs/MULTI_PROJECT.md"
      to: "examples/multiProject/"
      via: "Examples link"
      pattern: "examples/multiProject"
---

<objective>
Create MULTI_PROJECT.md for Newman and TestCafe (missing), and enhance the existing 7 MULTI_PROJECT.md files to match the template structure with consistent sections and troubleshooting.

Purpose: Multi-project support allows users to report test results to multiple Qase projects simultaneously. Currently 7 frameworks have basic MULTI_PROJECT.md files but they lack the full template structure (no configuration example, incomplete troubleshooting, inconsistent sections). Newman and TestCafe have no MULTI_PROJECT.md at all.

Output: 9 MULTI_PROJECT.md files, all following the master template structure consistently.
</objective>

<execution_context>
@/Users/gda/.claude/get-shit-done/workflows/execute-plan.md
@/Users/gda/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/templates/MULTI_PROJECT-TEMPLATE.md
@.planning/docs/FRAMEWORK-VARIATIONS.md
@.planning/docs/CODE-STYLE-GUIDE.md

Existing references:
@qase-jest/docs/MULTI_PROJECT.md
@qase-playwright/docs/MULTI_PROJECT.md
@qase-javascript-commons/README.md

Multi-project examples:
@examples/multiProject/jest/test/
@examples/multiProject/playwright/test/
@examples/multiProject/testcafe/
@examples/multiProject/newman/
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create MULTI_PROJECT.md for Newman and TestCafe</name>
  <files>qase-newman/docs/MULTI_PROJECT.md, qase-testcafe/docs/MULTI_PROJECT.md</files>
  <action>
Apply MULTI_PROJECT-TEMPLATE.md to create guides for Newman and TestCafe.

**Newman MULTI_PROJECT.md:**
- Replace {{FRAMEWORK_NAME}} with "Newman"
- Replace {{CONFIG_LOCATION}} with "qase.config.json" (Newman uses config file, not framework config)
- Replace {{FRAMEWORK_SLUG}} with "newman"
- Newman uses comment-based annotations in Postman collections, not programmatic qase.projects()
- For {{MULTI_PROJECT_USAGE_EXAMPLE}}: Show `pm.test()` with multi-project title markers in collection:
  ```javascript
  pm.test("Login flow (Qase PROJ1: 100) (Qase PROJ2: 200)", function () {
    pm.response.to.have.status(200);
  });
  ```
  Explain: "Newman uses title-based markers. Include `(Qase PROJECT_CODE: id1,id2)` in your pm.test() names to map tests to projects."
- For {{COMPLETE_MULTI_PROJECT_EXAMPLE}}: Show a complete Postman collection test script with multi-project markers
- Configuration: Show qase.config.json with testops_multi mode
- Verify examples directory exists: `examples/multiProject/newman/`
- Link to examples: `../../examples/multiProject/newman/`

**TestCafe MULTI_PROJECT.md:**
- Replace {{FRAMEWORK_NAME}} with "TestCafe"
- Replace {{CONFIG_LOCATION}} with "qase.config.json" (TestCafe uses config file)
- Replace {{FRAMEWORK_SLUG}} with "testcafe"
- TestCafe uses builder pattern: `qase.projects({ PROJ1: [1], PROJ2: [2] }).create()` then `test.meta(result)(...)`
- Verify from qase-testcafe/src/qase.ts: `projects()` method returns `this` (builder), needs `.create()` at end
- For {{MULTI_PROJECT_USAGE_EXAMPLE}}:
  ```javascript
  import { qase } from 'testcafe-reporter-qase/qase';

  // Multi-project test
  const q = qase.projects({ PROJ1: [100], PROJ2: [200] }).create();
  test.meta(q)('Login test reported to two projects', async (t) => {
    await t.expect(true).ok();
  });

  // Multi-project with additional metadata
  const q2 = qase.id(1).projects({ PROJ1: [100], PROJ2: [200] }).create();
  test.meta(q2)('Test with ID and multi-project', async (t) => {
    await t.expect(true).ok();
  });
  ```
- For {{COMPLETE_MULTI_PROJECT_EXAMPLE}}: Show complete fixture with multiple multi-project tests
- Check `examples/multiProject/testcafe/multiProjectTests.js` for actual examples to verify against
- Configuration: Show qase.config.json with testops_multi mode

For both files:
- Include full configuration example with testops_multi, default_project, and projects array
- Include all template sections: Overview, Configuration, Using qase.projects(), Tests Without Mapping, Important Notes, Examples, Complete Example, Troubleshooting, See Also
- Run `node .planning/tools/validate-placeholders.js` on each file
  </action>
  <verify>
Run: `node .planning/tools/validate-placeholders.js qase-newman/docs/MULTI_PROJECT.md && node .planning/tools/validate-placeholders.js qase-testcafe/docs/MULTI_PROJECT.md`
Both exit code 0. Verify files exist and have > 80 lines each.
  </verify>
  <done>
Newman MULTI_PROJECT.md exists with title-based marker pattern for Postman collections.
TestCafe MULTI_PROJECT.md exists with builder pattern qase.projects().create().
Both files have zero unreplaced placeholders and complete template sections.
  </done>
</task>

<task type="auto">
  <name>Task 2: Enhance existing 7 MULTI_PROJECT.md files to match template</name>
  <files>qase-jest/docs/MULTI_PROJECT.md, qase-playwright/docs/MULTI_PROJECT.md, qase-cypress/docs/MULTI_PROJECT.md, qase-mocha/docs/MULTI_PROJECT.md, qase-vitest/docs/MULTI_PROJECT.md, qase-cucumberjs/docs/MULTI_PROJECT.md, qase-wdio/docs/MULTI_PROJECT.md</files>
  <action>
Read each existing MULTI_PROJECT.md and enhance to match the template structure. The existing files are 53-107 lines and missing several template sections.

For each of the 7 files, ensure these sections exist (add if missing, preserve existing content if already good):

1. **Configuration section**: Add the full JSON configuration example with testops_multi mode, default_project, and projects array if not present. Currently most files link to commons but lack inline example.

2. **Using qase.projects() section**: Verify examples use correct framework syntax:
   - Jest: `test(qase.projects({ ... }, 'name'), () => { ... })`
   - Playwright: `qase.projects({ ... })` inside test body OR `qase.projectsTitle('name', { ... })` as title (both patterns)
   - Cypress: `it(qase.projects({ ... }, 'name'), () => { ... })`
   - Mocha: `it(qase.projects({ ... }, 'name'), () => { ... })`
   - Vitest: `test(qase.projects({ ... }, 'name'), () => { ... })`
   - CucumberJS: Tag-based or title-based markers in Gherkin
   - WDIO: `it(qase.projects({ ... }, 'name'), () => { ... })` for Mocha/Jasmine

3. **Key points section**: Ensure single-project vs multi-project syntax comparison exists

4. **Tests Without Project Mapping section**: Ensure default_project behavior documented

5. **Important Notes section**: Ensure all 3-4 notes present (codes match, mode setting, title format, API tokens)

6. **Complete Example section**: Add if missing - show a full test file with both single-project and multi-project tests using the framework's syntax

7. **Troubleshooting section**: Ensure 3 subsections exist:
   - Results Not Appearing in All Projects
   - Wrong Test Cases Linked
   - Default Project Not Working

8. **See Also section**: Ensure links to usage.md, commons config reference, and examples directory

For Playwright specifically: Preserve the unique `qase.projectsTitle()` and annotation patterns that don't exist in other frameworks. These are valuable Playwright-specific features.

For CucumberJS specifically: Verify if it uses title markers or tags for multi-project. Adapt examples accordingly.

Run `node .planning/tools/validate-placeholders.js` on each file after enhancement.
  </action>
  <verify>
Run validate-placeholders.js on all 7 files. All exit code 0.
Verify each file has the 9 required sections.
Verify Playwright preserves its unique projectsTitle and annotation patterns.
  </verify>
  <done>
All 7 existing MULTI_PROJECT.md files enhanced to match template structure.
Each file has: Configuration example, Usage examples, Key points, Default behavior, Important Notes, Complete Example, Troubleshooting (3 subsections), See Also.
Playwright preserves its unique patterns. CucumberJS has appropriate Gherkin adaptation.
All files have zero unreplaced placeholders.
  </done>
</task>

</tasks>

<verification>
1. All 9 MULTI_PROJECT.md files exist in their respective docs/ directories
2. Zero unreplaced {{PLACEHOLDER}} patterns in any file
3. All 9 files have consistent section ordering matching the template
4. Each file uses correct framework syntax for qase.projects()
5. Configuration example (testops_multi JSON) present in all files
6. Troubleshooting section with 3 subsections in all files
7. See Also links are valid
8. Newman uses title-based markers, TestCafe uses builder pattern
</verification>

<success_criteria>
- 9 MULTI_PROJECT.md files exist (2 new + 7 enhanced)
- validate-placeholders.js returns exit code 0 for all
- All files have consistent template-based structure
- Each file references correct examples directory
</success_criteria>

<output>
After completion, create `.planning/phases/03-feature-guides/03-04-SUMMARY.md`
</output>
